{"version":3,"sources":["webpack:///static/js/app.9d52cfa28b4b8e8ef938.js","webpack:///./src/App.vue","webpack:///./src/components/SharePage.vue","webpack:///./src/components/DownloadPage.vue","webpack:///src/App.vue","webpack:///./src/App.vue?f746","webpack:///./src/log.js","webpack:///./src/host-peer.js","webpack:///./src/copy.js","webpack:///src/components/SharePage.vue","webpack:///./src/components/SharePage.vue?8678","webpack:///./src/download.js","webpack:///./src/client-peer.js","webpack:///src/components/DownloadPage.vue","webpack:///./src/components/DownloadPage.vue?ad92","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./app-config.json"],"names":["webpackJsonp","B7OR","module","exports","NHnr","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","SharePage_injectStyle","DownloadPage_injectStyle","Object","defineProperty","value","vue_runtime_esm","App","name","App_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","staticRenderFns","esExports","render","selectortype_template_index_0_src_App","normalizeComponent","__vue_styles__","Component","src_App","vue_router_esm","promise","promise_default","n","now","Math","round","performance","toString","createLogger","print","timePad","arguments","length","undefined","msg","obj","entry","padEnd","text","log","console","bind","log_error","error","src_log","app_config","app_config_default","lib_peer","peer_default","host_peer_createPeer","connections","listeners","on","event","callback","push","emit","connection","data","forEach","addConnection","filter","conn","a","resolve","reject","peer","key","peerjs","copy_copyTextToClipboard","textArea","document","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","body","appendChild","select","copied","execCommand","err","removeChild","copy","qinu","qinu_default","SharePage_generateId","createLink","peerId","fileId","location","hash","href","slice","SharePage","failed","loading","copiedLink","files","window","methods","onDrop","_ref","dataTransfer","i","addFile","onSelectFile","_ref2","target","file","newFile","size","type","shareFile","link","sendFile","blob","Blob","send","method","copyLink","preventDefault","receiveData","find","filters","_size","mounted","_this","then","SharePage_render","class","drop","$event","dragover","_e","_m","_v","multiple","change","_l","click","keydown","_k","keyCode","_s","_f","SharePage_staticRenderFns","SharePage_esExports","components_SharePage","SharePage_normalizeComponent","SharePage___vue_styles__","SharePage_Component","src_components_SharePage","download","url","filename","remove","src_download","client_peer_createPeer","remotePeerId","connect","DownloadPage","computed","$route","params","downloadFile","URL","createObjectURL","revokeObjectURL","DownloadPage_render","to","DownloadPage_staticRenderFns","DownloadPage_esExports","components_DownloadPage","DownloadPage_normalizeComponent","DownloadPage___vue_styles__","DownloadPage_Component","src_components_DownloadPage","use","router","routes","path","component","config","productionTip","el","h","SZGa","T8ef","i58a","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId"],"mappings":"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","file":"static/js/app.9d52cfa28b4b8e8ef938.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"B7OR\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.runtime.esm.js\nvar vue_runtime_esm = __webpack_require__(\"/5sW\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var App = ({\n  name: 'app'\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e8b077a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar App_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view',{staticClass:\"page\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: App_render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App = (esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"B7OR\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  App,\n  selectortype_template_index_0_src_App,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-router/dist/vue-router.esm.js\nvar vue_router_esm = __webpack_require__(\"/ocq\");\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/promise.js\nvar promise = __webpack_require__(\"//Fk\");\nvar promise_default = /*#__PURE__*/__webpack_require__.n(promise);\n\n// CONCATENATED MODULE: ./src/log.js\nvar now = function now() {\n  return (Math.round(performance.now() * 100) / 100).toString();\n};\n\nvar createLogger = function createLogger(print) {\n  var timePad = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 14;\n\n  return function (msg, obj) {\n    var entry = now().padEnd(timePad) + ' | ';\n\n    if (typeof msg === 'string') {\n      var text = entry + msg;\n      if (typeof obj === 'undefined') {\n        print(text);\n      } else {\n        print(text, obj);\n      }\n    } else {\n      print(entry, obj);\n    }\n  };\n};\n\nvar log = createLogger(console.log.bind(console));\nvar log_error = createLogger(console.error.bind(console), 12);\n\nlog.error = log_error;\n\n\n/* harmony default export */ var src_log = (log);\n// EXTERNAL MODULE: ./app-config.json\nvar app_config = __webpack_require__(\"i58a\");\nvar app_config_default = /*#__PURE__*/__webpack_require__.n(app_config);\n\n// EXTERNAL MODULE: ./node_modules/peerjs/lib/peer.js\nvar lib_peer = __webpack_require__(\"zsG3\");\nvar peer_default = /*#__PURE__*/__webpack_require__.n(lib_peer);\n\n// CONCATENATED MODULE: ./src/host-peer.js\n\n\n\n\n\nvar host_peer_createPeer = function createPeer() {\n  var connections = [];\n\n  var listeners = {};\n  var on = function on(event, callback) {\n    if (!listeners[event]) listeners[event] = [];\n    listeners[event].push(callback);\n  };\n  var emit = function emit(event, connection, data) {\n    if (!listeners[event]) return;\n    listeners[event].forEach(function (callback) {\n      return callback(connection, data);\n    });\n  };\n\n  var addConnection = function addConnection(connection) {\n    src_log('new peer connected: ' + connection.id);\n\n    connections.push(connection);\n\n    connection.on('data', function (data) {\n      return emit('data', connection, data);\n    });\n\n    connection.on('close', function () {\n      src_log('connection ' + connection.id + ' leave us');\n      connections = connections.filter(function (conn) {\n        return conn !== connection;\n      });\n    });\n  };\n\n  return new promise_default.a(function (resolve, reject) {\n    var peer = new peer_default.a({ key: app_config_default.a.peerjs.key });\n\n    peer.on('open', function (id) {\n      src_log('peer initialized with id: ' + id);\n      resolve({ id: id, peer: peer, on: on, connections: connections });\n    });\n\n    peer.on('connection', addConnection);\n\n    peer.on('error', function (error) {\n      src_log.error('peer problem', error);\n      reject(error);\n    });\n  });\n};\n// CONCATENATED MODULE: ./src/copy.js\n\n\nvar copy_copyTextToClipboard = function copyTextToClipboard(text) {\n  var textArea = document.createElement('textarea');\n\n  //\n  // *** This styling is an extra step which is likely not required. ***\n  //\n  // Why is it here? To ensure:\n  // 1. the element is able to have focus and selection.\n  // 2. if element was to flash render it has minimal visual impact.\n  // 3. less flakyness with selection and copying which **might** occur if\n  //    the textarea element is not visible.\n  //\n  // The likelihood is the element won't even render, not even a flash,\n  // so some of these are just precautions. However in IE the element\n  // is visible whilst the popup box asking the user for permission for\n  // the web page to copy to the clipboard.\n  //\n\n  // Place in top-left corner of screen regardless of scroll position.\n  textArea.style.position = 'fixed';\n  textArea.style.top = 0;\n  textArea.style.left = 0;\n\n  // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n\n  // We don't need padding, reducing the size if it does flash render.\n  textArea.style.padding = 0;\n\n  // Clean up any borders.\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n\n  // Avoid flash of white box if rendered for any reason.\n  textArea.style.background = 'transparent';\n\n  textArea.value = text;\n\n  document.body.appendChild(textArea);\n\n  textArea.select();\n\n  var copied = false;\n\n  try {\n    document.execCommand('copy');\n    copied = true;\n  } catch (err) {\n    src_log.error('copying has failed (' + text + ')');\n  }\n\n  document.body.removeChild(textArea);\n\n  return copied;\n};\n\n/* harmony default export */ var copy = (copy_copyTextToClipboard);\n// EXTERNAL MODULE: ./node_modules/qinu/qinu.js\nvar qinu = __webpack_require__(\"jmmJ\");\nvar qinu_default = /*#__PURE__*/__webpack_require__.n(qinu);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/SharePage.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\nvar SharePage_generateId = function generateId() {\n  return qinu_default()({ length: 32 });\n};\n\nvar createLink = function createLink(peerId, fileId) {\n  var origin = location.hash ? location.href.slice(0, 0 - location.hash.length) : location.href;\n  return origin + '#/file/' + peerId + '/' + fileId;\n};\n\n/* harmony default export */ var SharePage = ({\n  name: 'SharePage',\n  data: function data() {\n    return {\n      peer: null,\n      failed: false,\n      loading: true,\n      copiedLink: null,\n      files: window.files || (window.files = []) // to keep files while Vue is updating\n    };\n  },\n  methods: {\n    onDrop: function onDrop(_ref) {\n      var files = _ref.dataTransfer.files;\n\n      for (var i = files.length; i--;) {\n        this.addFile(files[i]);\n      }\n    },\n    onSelectFile: function onSelectFile(_ref2) {\n      var files = _ref2.target.files;\n\n      for (var i = files.length; i--;) {\n        this.addFile(files[i]);\n      }\n    },\n    addFile: function addFile(file) {\n      var newFile = {\n        id: SharePage_generateId(),\n        name: file.name,\n        size: file.size,\n        type: file.type,\n        file: file\n      };\n      this.files.push(newFile);\n\n      if (this.peer) this.shareFile(newFile);\n    },\n    shareFile: function shareFile(file) {\n      file.link = createLink(this.peer.id, file.id);\n      src_log('link for ' + file.name + ': ' + file.link);\n    },\n    sendFile: function sendFile(connection, file) {\n      var name = file.name;\n      var type = file.type;\n      var blob = new Blob([file.file], { type: type });\n      connection.send({\n        method: 'sendFile',\n        file: { blob: blob, name: name, type: type }\n      });\n    },\n    copyLink: function copyLink(event, file) {\n      if (file.link) {\n        src_log('copying link for ' + file.name + ': ' + file.link);\n        if (copy(file.link)) {\n          event.preventDefault();\n          this.copiedLink = file.link;\n        }\n      } else {\n        src_log.error('link is not ready for ' + file.name);\n      }\n    },\n    receiveData: function receiveData(connection, data) {\n      switch (data.method) {\n        case 'requestFile':\n          src_log('requested ' + data.fileId + ' file');\n          var file = this.files.find(function (file) {\n            return file.id === data.fileId;\n          });\n          if (file) {\n            src_log('sending file ' + file.id + ' (' + file.name + ')');\n            this.sendFile(connection, file);\n          } else {\n            src_log.error('not exists file is requested ' + data.fileId);\n            connection.send({\n              method: 'error',\n              error: 'no matching file found',\n              fileId: data.fileId\n            });\n          }\n          break;\n        default:\n          src_log.error('unknown event ' + data.method + ' is received', data);\n      }\n    }\n  },\n  filters: {\n    size: function size(_size) {\n      return Math.round(_size / 1024 / 1024 * 100) / 100 + 'Mb';\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    src_log('creating new peer');\n    host_peer_createPeer().then(function (peer) {\n      _this.loading = false;\n      _this.peer = peer;\n      _this.peer.on('data', _this.receiveData.bind(_this));\n      _this.files.forEach(function (file) {\n        return _this.shareFile(file);\n      });\n    }, function (error) {\n      _this.failed = true;\n      src_log.error(error);\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e9467c42\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SharePage.vue\nvar SharePage_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"share-page\",class:{ failed: _vm.failed, loading: _vm.loading },on:{\"drop\":function($event){$event.preventDefault();_vm.onDrop($event)},\"dragover\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"content\"},[(!_vm.files.length)?_c('div',{staticClass:\"placeholder\"},[_vm._m(0,false,false),_vm._v(\" \"),_c('p',{staticClass:\"call-to-action\"},[_vm._v(\"\\n        drop files here,\"),_c('br'),_vm._v(\"or\\n        \"),_c('label',{staticClass:\"select-files\"},[_vm._v(\"\\n          choose them\\n          \"),_c('input',{attrs:{\"type\":\"file\",\"name\":\"files\",\"multiple\":\"\"},on:{\"change\":_vm.onSelectFile}})])])]):_vm._e(),_vm._v(\" \"),(_vm.files.length)?_c('div',{staticClass:\"list\"},[_c('ul',_vm._l((_vm.files),function(file){return _c('li',[_c('a',{class:['file', { copied: file.link === _vm.copiedLink }],attrs:{\"href\":file.link,\"target\":\"_blank\"},on:{\"click\":function($event){_vm.copyLink($event, file)},\"keydown\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.copyLink($event, file)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"space\",32,$event.key)){ return null; }_vm.copyLink($event, file)}]}},[_vm._v(\"\\n            \"+_vm._s(file.name)+\"\\n            (\"+_vm._s(_vm._f(\"size\")(file.size))+\")\\n          \")])])})),_vm._v(\" \"),_c('p',{staticClass:\"tip\"},[_vm._v(\"\\n        click the file name to copy the link or\\n        \"),_c('label',{staticClass:\"select-files\"},[_vm._v(\"\\n          add more\\n          \"),_c('input',{attrs:{\"type\":\"file\",\"name\":\"files\",\"multiple\":\"\"},on:{\"change\":_vm.onSelectFile}})])])]):_vm._e()])])}\nvar SharePage_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Here you can share files with anybody by peer-to-peer connection using modern WebRTC technology. It means that you won't download your files to any server, people who you share files with will download them directly from your browser (it is more \"),_c('strong',[_vm._v(\"fast\")]),_vm._v(\" and \"),_c('strong',[_vm._v(\"secure\")]),_vm._v(\" way to share files).\")])}]\nvar SharePage_esExports = { render: SharePage_render, staticRenderFns: SharePage_staticRenderFns }\n/* harmony default export */ var components_SharePage = (SharePage_esExports);\n// CONCATENATED MODULE: ./src/components/SharePage.vue\nfunction SharePage_injectStyle (ssrContext) {\n  __webpack_require__(\"SZGa\")\n}\nvar SharePage_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar SharePage___vue_template_functional__ = false\n/* styles */\nvar SharePage___vue_styles__ = SharePage_injectStyle\n/* scopeId */\nvar SharePage___vue_scopeId__ = \"data-v-e9467c42\"\n/* moduleIdentifier (server only) */\nvar SharePage___vue_module_identifier__ = null\nvar SharePage_Component = SharePage_normalizeComponent(\n  SharePage,\n  components_SharePage,\n  SharePage___vue_template_functional__,\n  SharePage___vue_styles__,\n  SharePage___vue_scopeId__,\n  SharePage___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_SharePage = (SharePage_Component.exports);\n\n// CONCATENATED MODULE: ./src/download.js\nvar download = function download(url, filename) {\n  var a = document.createElement('a');\n\n  a.style = 'display: none';\n  a.href = url;\n  a.download = filename;\n\n  document.body.appendChild(a);\n  a.click();\n  console.log(a);\n  a.remove();\n};\n\n/* harmony default export */ var src_download = (download);\n// CONCATENATED MODULE: ./src/client-peer.js\n\n\n\n\n\nvar client_peer_createPeer = function createPeer(remotePeerId) {\n  var listeners = {};\n  var on = function on(event, callback) {\n    if (!listeners[event]) listeners[event] = [];\n    listeners[event].push(callback);\n  };\n  var emit = function emit(event, data) {\n    if (!listeners[event]) return;\n    listeners[event].forEach(function (callback) {\n      return callback(data);\n    });\n  };\n\n  return new promise_default.a(function (resolve, reject) {\n    var peer = new peer_default.a({ key: app_config_default.a.peerjs.key });\n\n    peer.on('open', function (id) {\n      src_log('peer initialized with id: ' + id);\n\n      var connection = peer.connect(remotePeerId);\n\n      connection.on('data', function (data) {\n        return emit('data', data);\n      });\n\n      connection.on('open', function () {\n        src_log('connected to remote peer ' + remotePeerId);\n        resolve({ id: id, peer: peer, connection: connection, on: on });\n      });\n\n      connection.on('error', function (error) {\n        src_log.error('connection problem', error);\n        reject(error);\n      });\n    });\n\n    peer.on('error', function (error) {\n      src_log.error('peer problem', error);\n      reject(error);\n    });\n  });\n};\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/DownloadPage.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var DownloadPage = ({\n  name: 'FilePage',\n  data: function data() {\n    return {\n      peer: null,\n      loading: true,\n      failed: false,\n      error: null\n    };\n  },\n  computed: {\n    peerId: function peerId() {\n      return this.$route.params.peer;\n    },\n    fileId: function fileId() {\n      return this.$route.params.file;\n    }\n  },\n  methods: {\n    downloadFile: function downloadFile() {\n      src_log('request file ' + this.fileId);\n      this.send({ method: 'requestFile', fileId: this.fileId });\n    },\n    send: function send(data) {\n      this.peer.connection.send(data);\n    },\n    receiveData: function receiveData(data) {\n      switch (data.method) {\n        case 'sendFile':\n          src_log('remote server send a file ' + data.file.name, data);\n          var blob = new Blob([data.file.blob], { type: data.file.type });\n          var url = URL.createObjectURL(blob);\n          src_download(url, data.file.name);\n          URL.revokeObjectURL(url);\n          break;\n        case 'error':\n          src_log.error('remote server send an error', data);\n          break;\n        default:\n          src_log.error('unknown event ' + data.method + ' is received', data);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    client_peer_createPeer(this.peerId).then(function (peer) {\n      _this.peer = peer;\n      _this.peer.on('data', _this.receiveData.bind(_this));\n    }).then(function () {\n      _this.loading = false;\n    });\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-680f6ade\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DownloadPage.vue\nvar DownloadPage_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-page\",class:{ failed: _vm.failed, loading: _vm.loading }},[_c('div',{staticClass:\"content\"},[(_vm.loading)?_c('p',[_vm._v(\"loading...\")]):_vm._e(),_vm._v(\" \"),(!_vm.loading)?_c('div',[(!_vm.failed)?_c('input',{attrs:{\"type\":\"button\",\"value\":\"download file\"},on:{\"click\":_vm.downloadFile}}):_vm._e(),_vm._v(\" \"),(!_vm.failed)?_c('p',{staticClass:\"tip\"},[_vm._v(\"you are here because somebody wants to share file with you\")]):_vm._e(),_vm._v(\" \"),(!_vm.failed)?_c('p',{staticClass:\"tip\"},[_vm._v(\"if you want, you can \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"share files\")]),_vm._v(\" too\")],1):_vm._e(),_vm._v(\" \"),(_vm.failed)?_c('p',[_vm._v(_vm._s(_vm.error))]):_vm._e()]):_vm._e()])])}\nvar DownloadPage_staticRenderFns = []\nvar DownloadPage_esExports = { render: DownloadPage_render, staticRenderFns: DownloadPage_staticRenderFns }\n/* harmony default export */ var components_DownloadPage = (DownloadPage_esExports);\n// CONCATENATED MODULE: ./src/components/DownloadPage.vue\nfunction DownloadPage_injectStyle (ssrContext) {\n  __webpack_require__(\"T8ef\")\n}\nvar DownloadPage_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar DownloadPage___vue_template_functional__ = false\n/* styles */\nvar DownloadPage___vue_styles__ = DownloadPage_injectStyle\n/* scopeId */\nvar DownloadPage___vue_scopeId__ = \"data-v-680f6ade\"\n/* moduleIdentifier (server only) */\nvar DownloadPage___vue_module_identifier__ = null\nvar DownloadPage_Component = DownloadPage_normalizeComponent(\n  DownloadPage,\n  components_DownloadPage,\n  DownloadPage___vue_template_functional__,\n  DownloadPage___vue_styles__,\n  DownloadPage___vue_scopeId__,\n  DownloadPage___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_DownloadPage = (DownloadPage_Component.exports);\n\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\n\n\nvue_runtime_esm[\"a\" /* default */].use(vue_router_esm[\"a\" /* default */]);\n\n/* harmony default export */ var router = (new vue_router_esm[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'SharePage',\n    component: src_components_SharePage\n  }, {\n    path: '/file/:peer/:file',\n    name: 'DownloadPage',\n    component: src_components_DownloadPage\n  }]\n}));\n// CONCATENATED MODULE: ./src/main.js\n\n\n\n\n\nvue_runtime_esm[\"a\" /* default */].config.productionTip = false;\n\nsrc_log('start new application');\n\n/* eslint-disable no-new */\nnew vue_runtime_esm[\"a\" /* default */]({\n  el: '#app',\n  router: router,\n  render: function render(h) {\n    return h(src_App);\n  }\n});\n\n/***/ }),\n\n/***/ \"SZGa\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"T8ef\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"i58a\":\n/***/ (function(module, exports) {\n\nmodule.exports = {\"firebase\":{\"apiKey\":\"AIzaSyBHsb4fmCGupwqcdz5bdDnOpSNLpHwWvLw\",\"authDomain\":\"webrtc-sfs.firebaseapp.com\",\"databaseURL\":\"https://webrtc-sfs.firebaseio.com\",\"projectId\":\"webrtc-sfs\",\"storageBucket\":\"\",\"messagingSenderId\":\"685746255008\"},\"peerjs\":{\"key\":\"zcn86e7y7xkr19k9\"}}\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.9d52cfa28b4b8e8ef938.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e8b077a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e8b077a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e9467c42\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SharePage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SharePage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e9467c42\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SharePage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e9467c42\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SharePage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-680f6ade\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DownloadPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DownloadPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-680f6ade\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DownloadPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-680f6ade\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DownloadPage.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view class=\"page\"/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\nhtml, body, #app {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  box-sizing: border-box;\n  overflow: auto;\n}\n\n#app {\n  font-family: -apple-system, BlinkMacSystemFont, “Segoe UI”, Roboto, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  min-width: 320px;\n  min-height: 320px;\n}\n\na {\n  color: #2c3e50;\n}\n\n.page {\n  height: 100%;\n  overflow: auto;\n  background-color: #e5edf1;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view',{staticClass:\"page\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e8b077a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","const now = () => (Math.round(performance.now() * 100) / 100).toString()\n\nconst createLogger = (print, timePad = 14) => {\n  return (msg, obj) => {\n    const entry = `${now().padEnd(timePad)} | `\n\n    if (typeof msg === 'string') {\n      const text = entry + msg\n      if (typeof obj === 'undefined') {\n        print(text)\n      } else {\n        print(text, obj)\n      }\n    } else {\n      print(entry, obj)\n    }\n  }\n}\n\nconst log = createLogger(console.log.bind(console))\nconst error = createLogger(console.error.bind(console), 12)\n\nlog.error = error\n\nexport { log, error }\nexport default log\n\n\n\n// WEBPACK FOOTER //\n// ./src/log.js","import log from '@/log'\nimport config from '@/../app-config'\nimport Peer from 'peerjs'\n\nexport const createPeer = () => {\n  let connections = []\n\n  const listeners = {}\n  const on = (event, callback) => {\n    if (!listeners[event]) listeners[event] = []\n    listeners[event].push(callback)\n  }\n  const emit = (event, connection, data) => {\n    if (!listeners[event]) return\n    listeners[event].forEach(callback => callback(connection, data))\n  }\n\n  const addConnection = connection => {\n    log(`new peer connected: ${connection.id}`)\n\n    connections.push(connection)\n\n    connection.on('data', data => emit('data', connection, data))\n\n    connection.on('close', () => {\n      log(`connection ${connection.id} leave us`)\n      connections = connections.filter(conn => conn !== connection)\n    })\n  }\n\n  return new Promise((resolve, reject) => {\n    const peer = new Peer({ key: config.peerjs.key })\n\n    peer.on('open', id => {\n      log(`peer initialized with id: ${id}`)\n      resolve({ id, peer, on, connections })\n    })\n\n    peer.on('connection', addConnection)\n\n    peer.on('error', error => {\n      log.error('peer problem', error)\n      reject(error)\n    })\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/host-peer.js","import log from '@/log'\n\nconst copyTextToClipboard = text => {\n  const textArea = document.createElement('textarea')\n\n  //\n  // *** This styling is an extra step which is likely not required. ***\n  //\n  // Why is it here? To ensure:\n  // 1. the element is able to have focus and selection.\n  // 2. if element was to flash render it has minimal visual impact.\n  // 3. less flakyness with selection and copying which **might** occur if\n  //    the textarea element is not visible.\n  //\n  // The likelihood is the element won't even render, not even a flash,\n  // so some of these are just precautions. However in IE the element\n  // is visible whilst the popup box asking the user for permission for\n  // the web page to copy to the clipboard.\n  //\n\n  // Place in top-left corner of screen regardless of scroll position.\n  textArea.style.position = 'fixed'\n  textArea.style.top = 0\n  textArea.style.left = 0\n\n  // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n  textArea.style.width = '2em'\n  textArea.style.height = '2em'\n\n  // We don't need padding, reducing the size if it does flash render.\n  textArea.style.padding = 0\n\n  // Clean up any borders.\n  textArea.style.border = 'none'\n  textArea.style.outline = 'none'\n  textArea.style.boxShadow = 'none'\n\n  // Avoid flash of white box if rendered for any reason.\n  textArea.style.background = 'transparent'\n\n  textArea.value = text\n\n  document.body.appendChild(textArea)\n\n  textArea.select()\n\n  let copied = false\n\n  try {\n    document.execCommand('copy')\n    copied = true\n  } catch (err) {\n    log.error(`copying has failed (${text})`)\n  }\n\n  document.body.removeChild(textArea)\n\n  return copied\n}\n\nexport default copyTextToClipboard\n\n\n\n// WEBPACK FOOTER //\n// ./src/copy.js","<template>\n  <div class=\"share-page\" @drop.prevent=\"onDrop\" @dragover.prevent :class=\"{ failed, loading }\">\n    <div class=\"content\">\n      <div class=\"placeholder\" v-if=\"!files.length\">\n        <p>Here you can share files with anybody by peer-to-peer connection using modern WebRTC technology. It means that you won't download your files to any server, people who you share files with will download them directly from your browser (it is more <strong>fast</strong> and <strong>secure</strong> way to share files).</p>\n        <p class=\"call-to-action\">\n          drop files here,<br>or\n          <label class=\"select-files\">\n            choose them\n            <input type=\"file\" name=\"files\" multiple @change=\"onSelectFile\">\n          </label>\n        </p>\n      </div>\n      <div class=\"list\" v-if=\"files.length\">\n        <ul>\n          <li v-for=\"file in files\">\n            <a :href=\"file.link\" target=\"_blank\"\n              :class=\"['file', { copied: file.link === copiedLink }]\"\n              @click=\"copyLink($event, file)\"\n              @keydown.enter=\"copyLink($event, file)\"\n              @keydown.space=\"copyLink($event, file)\">\n              {{ file.name }}\n              ({{ file.size | size }})\n            </a>\n          </li>\n        </ul>\n        <p class=\"tip\">\n          click the file name to copy the link or\n          <label class=\"select-files\">\n            add more\n            <input type=\"file\" name=\"files\" multiple @change=\"onSelectFile\">\n          </label>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { createPeer } from '@/host-peer'\nimport log from '@/log'\nimport copy from '@/copy'\nimport qinu from 'qinu'\n\nconst generateId = () => qinu({ length: 32 })\n\nconst createLink = (peerId, fileId) => {\n  const origin = location.hash\n    ? location.href.slice(0, 0 - location.hash.length)\n    : location.href\n  return `${origin}#/file/${peerId}/${fileId}`\n}\n\nexport default {\n  name: 'SharePage',\n  data: () => ({\n    peer: null,\n    failed: false,\n    loading: true,\n    copiedLink: null,\n    files: window.files || (window.files = []) // to keep files while Vue is updating\n  }),\n  methods: {\n    onDrop ({ dataTransfer: { files } }) {\n      for (let i = files.length; i--;) {\n        this.addFile(files[i])\n      }\n    },\n    onSelectFile ({ target: { files } }) {\n      for (let i = files.length; i--;) {\n        this.addFile(files[i])\n      }\n    },\n    addFile (file) {\n      const newFile = {\n        id: generateId(),\n        name: file.name,\n        size: file.size,\n        type: file.type,\n        file\n      }\n      this.files.push(newFile)\n\n      if (this.peer) this.shareFile(newFile)\n    },\n    shareFile (file) {\n      file.link = createLink(this.peer.id, file.id)\n      log(`link for ${file.name}: ${file.link}`)\n    },\n    sendFile (connection, file) {\n      const name = file.name\n      const type = file.type\n      const blob = new Blob([file.file], { type })\n      connection.send({\n        method: 'sendFile',\n        file: { blob, name, type }\n      })\n    },\n    copyLink (event, file) {\n      if (file.link) {\n        log(`copying link for ${file.name}: ${file.link}`)\n        if (copy(file.link)) {\n          event.preventDefault()\n          this.copiedLink = file.link\n        }\n      } else {\n        log.error(`link is not ready for ${file.name}`)\n      }\n    },\n    receiveData (connection, data) {\n      switch (data.method) {\n        case 'requestFile':\n          log(`requested ${data.fileId} file`)\n          const file = this.files.find(file => file.id === data.fileId)\n          if (file) {\n            log(`sending file ${file.id} (${file.name})`)\n            this.sendFile(connection, file)\n          } else {\n            log.error(`not exists file is requested ${data.fileId}`)\n            connection.send({\n              method: 'error',\n              error: 'no matching file found',\n              fileId: data.fileId\n            })\n          }\n          break\n        default:\n          log.error(`unknown event ${data.method} is received`, data)\n      }\n    }\n  },\n  filters: {\n    size (size) {\n      return Math.round(size / 1024 / 1024 * 100) / 100 + 'Mb'\n    }\n  },\n  mounted () {\n    log('creating new peer')\n    createPeer().then(\n      peer => {\n        this.loading = false\n        this.peer = peer\n        this.peer.on('data', this.receiveData.bind(this))\n        this.files.forEach(file => this.shareFile(file))\n      },\n      error => {\n        this.failed = true\n        log.error(error)\n      }\n    )\n  }\n}\n</script>\n\n<style scoped>\n  .share-page {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .share-page.loading {\n    background-color: #eaeaea;\n  }\n\n  .share-page.loading:before {\n    content: 'loading...';\n    display: block;\n    margin-top: 1em;\n  }\n\n  .share-page.failed {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffe4e4;\n    color: #ec9494;\n    font-size: 3em;\n  }\n  .share-page.failed * {\n    display: none;\n  }\n  .share-page.failed:after {\n    content: 'peer connection has failed';\n  }\n\n  .content {\n    flex: 1;\n    margin: 1em;\n    border: 5px dashed #aeb9c2;\n    border-radius: 2em;\n    padding: 2em;\n  }\n\n  .placeholder {\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n  }\n\n  .select-files {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n\n  .select-files:hover {\n    text-decoration: none;\n  }\n\n  .select-files input {\n    display: none;\n  }\n\n  .placeholder p {\n    max-width: 600px;\n  }\n\n  .call-to-action {\n    font-size: 2em;\n    color: #aeb9c2;\n  }\n\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  .file {\n    cursor: grab;\n    margin: .5em;\n    text-decoration: none;\n  }\n\n  .file:hover {\n    text-decoration: underline;\n  }\n\n  .file:active {\n    cursor: grabbing;\n  }\n\n  .file.copied:before {\n    content: '[copied]';\n  }\n\n  .share-page.loading .file,\n  .share-page.loading .file:active {\n    cursor: text;\n    outline: none;\n  }\n\n  .tip {\n    color: #888;\n    margin-top: 1em;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SharePage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"share-page\",class:{ failed: _vm.failed, loading: _vm.loading },on:{\"drop\":function($event){$event.preventDefault();_vm.onDrop($event)},\"dragover\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"content\"},[(!_vm.files.length)?_c('div',{staticClass:\"placeholder\"},[_vm._m(0,false,false),_vm._v(\" \"),_c('p',{staticClass:\"call-to-action\"},[_vm._v(\"\\n        drop files here,\"),_c('br'),_vm._v(\"or\\n        \"),_c('label',{staticClass:\"select-files\"},[_vm._v(\"\\n          choose them\\n          \"),_c('input',{attrs:{\"type\":\"file\",\"name\":\"files\",\"multiple\":\"\"},on:{\"change\":_vm.onSelectFile}})])])]):_vm._e(),_vm._v(\" \"),(_vm.files.length)?_c('div',{staticClass:\"list\"},[_c('ul',_vm._l((_vm.files),function(file){return _c('li',[_c('a',{class:['file', { copied: file.link === _vm.copiedLink }],attrs:{\"href\":file.link,\"target\":\"_blank\"},on:{\"click\":function($event){_vm.copyLink($event, file)},\"keydown\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.copyLink($event, file)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"space\",32,$event.key)){ return null; }_vm.copyLink($event, file)}]}},[_vm._v(\"\\n            \"+_vm._s(file.name)+\"\\n            (\"+_vm._s(_vm._f(\"size\")(file.size))+\")\\n          \")])])})),_vm._v(\" \"),_c('p',{staticClass:\"tip\"},[_vm._v(\"\\n        click the file name to copy the link or\\n        \"),_c('label',{staticClass:\"select-files\"},[_vm._v(\"\\n          add more\\n          \"),_c('input',{attrs:{\"type\":\"file\",\"name\":\"files\",\"multiple\":\"\"},on:{\"change\":_vm.onSelectFile}})])])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Here you can share files with anybody by peer-to-peer connection using modern WebRTC technology. It means that you won't download your files to any server, people who you share files with will download them directly from your browser (it is more \"),_c('strong',[_vm._v(\"fast\")]),_vm._v(\" and \"),_c('strong',[_vm._v(\"secure\")]),_vm._v(\" way to share files).\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e9467c42\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SharePage.vue\n// module id = null\n// module chunks = ","const download = (url, filename) => {\n  const a = document.createElement('a')\n\n  a.style = 'display: none'\n  a.href = url\n  a.download = filename\n\n  document.body.appendChild(a)\n  a.click()\n  console.log(a)\n  a.remove()\n}\n\nexport default download\n\n\n\n// WEBPACK FOOTER //\n// ./src/download.js","import log from '@/log'\nimport config from '@/../app-config'\nimport Peer from 'peerjs'\n\nexport const createPeer = remotePeerId => {\n  const listeners = {}\n  const on = (event, callback) => {\n    if (!listeners[event]) listeners[event] = []\n    listeners[event].push(callback)\n  }\n  const emit = (event, data) => {\n    if (!listeners[event]) return\n    listeners[event].forEach(callback => callback(data))\n  }\n\n  return new Promise((resolve, reject) => {\n    const peer = new Peer({ key: config.peerjs.key })\n\n    peer.on('open', id => {\n      log(`peer initialized with id: ${id}`)\n\n      const connection = peer.connect(remotePeerId)\n\n      connection.on('data', data => emit('data', data))\n\n      connection.on('open', () => {\n        log(`connected to remote peer ${remotePeerId}`)\n        resolve({ id, peer, connection, on })\n      })\n\n      connection.on('error', error => {\n        log.error('connection problem', error)\n        reject(error)\n      })\n    })\n\n    peer.on('error', error => {\n      log.error('peer problem', error)\n      reject(error)\n    })\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client-peer.js","<template>\n  <div class=\"file-page\" :class=\"{ failed, loading }\">\n    <div class=\"content\">\n      <p v-if=\"loading\">loading...</p>\n      <div v-if=\"!loading\">\n        <input v-if=\"!failed\" type=\"button\" @click=\"downloadFile\" value=\"download file\" />\n        <p v-if=\"!failed\" class=\"tip\">you are here because somebody wants to share file with you</p>\n        <p v-if=\"!failed\" class=\"tip\">if you want, you can <router-link to=\"/\">share files</router-link> too</p>\n        <p v-if=\"failed\">{{ error }}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport log from '@/log'\nimport download from '@/download'\nimport { createPeer } from '@/client-peer'\n\nexport default {\n  name: 'FilePage',\n  data: () => ({\n    peer: null,\n    loading: true,\n    failed: false,\n    error: null\n  }),\n  computed: {\n    peerId () {\n      return this.$route.params.peer\n    },\n    fileId () {\n      return this.$route.params.file\n    }\n  },\n  methods: {\n    downloadFile () {\n      log(`request file ${this.fileId}`)\n      this.send({ method: 'requestFile', fileId: this.fileId })\n    },\n    send (data) {\n      this.peer.connection.send(data)\n    },\n    receiveData (data) {\n      switch (data.method) {\n        case 'sendFile':\n          log(`remote server send a file ${data.file.name}`, data)\n          const blob = new Blob([data.file.blob], { type: data.file.type })\n          const url = URL.createObjectURL(blob)\n          download(url, data.file.name)\n          URL.revokeObjectURL(url)\n          break\n        case 'error':\n          log.error('remote server send an error', data)\n          break\n        default:\n          log.error(`unknown event ${data.method} is received`, data)\n      }\n    }\n  },\n  mounted () {\n    createPeer(this.peerId)\n      .then(peer => {\n        this.peer = peer\n        this.peer.on('data', this.receiveData.bind(this))\n      })\n      .then(() => { this.loading = false })\n  }\n}\n</script>\n\n<style scoped>\n  .file-page {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .file-page.loading {\n    background-color: #eaeaea;\n  }\n\n  .file-page.failed {\n    background-color: #ffe4e4;\n    color: #ec9494;\n  }\n\n  .tip {\n    color: #888;\n    margin-top: 1em;\n  }\n\n  .tip a {\n    color: #888;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/DownloadPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-page\",class:{ failed: _vm.failed, loading: _vm.loading }},[_c('div',{staticClass:\"content\"},[(_vm.loading)?_c('p',[_vm._v(\"loading...\")]):_vm._e(),_vm._v(\" \"),(!_vm.loading)?_c('div',[(!_vm.failed)?_c('input',{attrs:{\"type\":\"button\",\"value\":\"download file\"},on:{\"click\":_vm.downloadFile}}):_vm._e(),_vm._v(\" \"),(!_vm.failed)?_c('p',{staticClass:\"tip\"},[_vm._v(\"you are here because somebody wants to share file with you\")]):_vm._e(),_vm._v(\" \"),(!_vm.failed)?_c('p',{staticClass:\"tip\"},[_vm._v(\"if you want, you can \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"share files\")]),_vm._v(\" too\")],1):_vm._e(),_vm._v(\" \"),(_vm.failed)?_c('p',[_vm._v(_vm._s(_vm.error))]):_vm._e()]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-680f6ade\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DownloadPage.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport SharePage from '@/components/SharePage'\nimport DownloadPage from '@/components/DownloadPage'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'SharePage',\n      component: SharePage\n    },\n    {\n      path: '/file/:peer/:file',\n      name: 'DownloadPage',\n      component: DownloadPage\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport log from '@/log'\n\nVue.config.productionTip = false\n\nlog('start new application')\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\"firebase\":{\"apiKey\":\"AIzaSyBHsb4fmCGupwqcdz5bdDnOpSNLpHwWvLw\",\"authDomain\":\"webrtc-sfs.firebaseapp.com\",\"databaseURL\":\"https://webrtc-sfs.firebaseio.com\",\"projectId\":\"webrtc-sfs\",\"storageBucket\":\"\",\"messagingSenderId\":\"685746255008\"},\"peerjs\":{\"key\":\"zcn86e7y7xkr19k9\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app-config.json\n// module id = i58a\n// module chunks = 1"],"sourceRoot":""}